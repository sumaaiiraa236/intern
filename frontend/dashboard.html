<!DOCTYPE html>
<html>
<head><title>Dashboard</title></head>
<body>
  <h1>Welcome, <span id="internName"></span>!</h1>
  <p>Referral Code: <span id="referralCode"></span></p>
  <p>Total Donations Raised: ₹<span id="totalDonations"></span></p>

  <h2>Rewards</h2>
  <ul>
    <li>₹1000 - T-Shirt</li>
    <li>₹5000 - Certificate</li>
    <li>₹10,000 - Internship Opportunity</li>
  </ul>

  <script>
    const params = new URLSearchParams(window.location.search);
    const name = params.get("name") || "Intern";

    document.getElementById("internName").textContent = name;
    document.getElementById("referralCode").textContent = name.toLowerCase() + "2025";

    fetch("http://localhost:3000/api/intern")
      .then(res => res.json())
      .then(data => {
        document.getElementById("totalDonations").textContent = data.amountRaised;
      });
  </script>
</body>
</html>
